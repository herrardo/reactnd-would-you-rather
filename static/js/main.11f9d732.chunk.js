(this["webpackJsonpreactnd-would-you-rather"]=this["webpackJsonpreactnd-would-you-rather"]||[]).push([[0],{60:function(e,t,n){},75:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(2),o=(n(75),n(0)),s=(n(60),n(35)),a=n(17),i=n(5),c={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},u={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};var d="RECEIVE_QUESTIONS",l="ANSWER_QUESTION",j="RECEIVE_USERS",h="USER_ANSWER_QUESTION",b="SET_AUTHED_USER",m=function(e){return{type:b,id:e}};function p(){return function(e){return Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},c))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},u))}),1e3)}))]).then((function(e){var t=Object(s.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,r=t.questions;e(function(e){return{type:d,questions:e}}(r)),e(function(e){return{type:j,users:e}}(n))}))}}var O=n(18),x=n(33),f=n(14),v=function(){return Object(r.jsxs)("div",{className:"text-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[Object(r.jsx)("h1",{children:"Page not found"}),Object(r.jsx)("h2",{children:"Where are you going mate?"})]})},y=n(96),g="/reactnd-would-you-rather",w=Object(O.b)((function(e,t){var n=e.questions,r=e.authedUser,o=e.users,s=t.match&&t.match.params&&t.match.params.id?t.match.params.id:null;return{authedUser:r,question:t.question,questions:n,users:o,id:s}}))((function(e){var t=e.authedUser,n=e.question,o=e.questions,s=e.users,a=e.dispatch,i=e.id;n=n||o[i];var c=!s||!t||Object.keys(s[t].answers).includes(n.id),u=n.optionOne.votes.length,d=n.optionTwo.votes.length,j=u+d,b=Object(f.f)(),m=function(e){a(function(e){var t=e.qid,n=e.answer,r=e.authedUser;return{type:l,qid:t,answer:n,authedUser:r}}({authedUser:t,qid:n.id,answer:e})),a(function(e){var t=e.qid,n=e.answer,r=e.authedUser;return{type:h,qid:t,answer:n,authedUser:r}}({authedUser:t,qid:n.id,answer:e})),p()},p=function(){b.push("".concat(g,"/questions/").concat(n.id))};return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"question__title",children:"Would you rather?"}),Object(r.jsx)("img",{src:s[n.author].avatarURL,width:"50px",height:"auto",className:"question__picture"}),Object(r.jsxs)("div",{className:"question__group",children:[Object(r.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionOne.text),variant:"contained",disabled:c,onClick:function(){return m("optionOne")},children:n.optionOne.text}),Object(r.jsxs)("span",{className:"question__results",children:[u," votes - ",Math.round(u/j*100),"%"]}),n.optionOne.votes.includes(t)&&Object(r.jsx)("span",{className:"question__my-answer",children:"My Answer"})]}),Object(r.jsxs)("div",{className:"question__group",children:[Object(r.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionTwo.text),variant:"contained",disabled:c,onClick:function(){return m("optionTwo")},children:n.optionTwo.text}),Object(r.jsxs)("span",{className:"question__results",children:[d," votes - ",Math.round(d/j*100),"%"]}),n.optionTwo.votes.includes(t)&&Object(r.jsx)("span",{className:"question__my-answer",children:"My Answer"})]}),null===i&&Object(r.jsx)(y.a,{className:"question__link",onClick:p,children:"View Detail"})]})})),q=n(129),U=n(138),k=(n(88),Object(O.b)((function(e){return{questions:e.questions,authedUser:e.authedUser,users:e.users}}))((function(e){var t=e.questions,n=e.authedUser,a=e.users,i=Object(o.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],l=Object.keys(a[n].answers),j=Object.values(t).filter((function(e){return u?l.includes(e.id):!l.includes(e.id)})).sort((function(e,t){return e.timestamp-t.timestamp}));return Object(r.jsxs)("div",{className:"questions",children:[Object(r.jsxs)("h3",{className:"center",children:["List of ",u?Object(r.jsx)("span",{children:"answered"}):Object(r.jsx)("span",{children:"unanswered"})," questions"," "]}),Object(r.jsx)(q.a,{control:Object(r.jsx)(U.a,{checked:u,onChange:function(){d(!u)},name:"checkedB",color:"primary"}),label:"Answered Questions"}),Object(r.jsx)("ul",{className:"questions-list",children:j.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(w,{question:e})},e.id)}))})]})}))),N=Object(O.b)((function(e){return{orderedUsers:function(e){var t=e.users;return Object.values(t).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{interactions:Object.keys(e.answers).length+e.questions.length})})).sort((function(e,t){return t.interactions-e.interactions}))}(e)}}))((function(e){var t=e.orderedUsers;return Object(r.jsxs)("div",{className:"users",children:[Object(r.jsx)("h3",{className:"center",children:"List of questions"}),Object(r.jsx)("ul",{className:"dashboard-list",children:Object.values(t).map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("h1",{children:e.name}),Object(r.jsx)("h3",{children:e.interactions})]},e.id)}))})]})})),T=n(131),_=n(136),E=n(132),z=n(98),S=n(133),C=Object(T.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),R=Object(O.b)((function(e,t){return{authedUser:e.authedUser,users:e.users,login:t.login}}),(function(e){return{dispatch:e,setAuthedUser:m}}))((function(e){var t=e.dispatch,n=(e.authedUser,e.users),o=e.login,s=C();return Object(r.jsx)(_.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:o,BackdropComponent:E.a,BackdropProps:{timeout:500},children:Object(r.jsx)(z.a,{in:!0,children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("h2",{id:"transition-modal-title",children:"Choose and user to login"}),Object(r.jsx)(S.a,{orientation:"vertical",color:"primary","aria-label":"vertical contained primary button group",variant:"contained",children:Object.values(n).map((function(e){return Object(r.jsx)(y.a,{onClick:function(){return n=e.id,void t(m(n));var n},children:e.name},e.id)}))})]})})})})),L=n(134),A=n(135),B=n(130),I=n(137),M=n(139),P=n(97),Q=n(67),W=n.n(Q),J=Object(O.b)((function(e){return{users:e.users,authedUser:e.authedUser}}))((function(e){var t=e.authedUser,n=e.users,o=e.dispatch,s=n[t]||null;return Object(r.jsx)(r.Fragment,{children:s?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:s.name}),Object(r.jsx)(y.a,{color:"inherit",onClick:function(){o(m(null))},children:"Logout"})]}):Object(r.jsx)(y.a,{color:"inherit",children:"Login"})})})),D=Object(T.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),G=function(){var e=D(),t=Object(o.useState)(null),n=Object(s.a)(t,2),a=n[0],i=n[1],c=function(){i(null)};return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(L.a,{position:"static",children:Object(r.jsxs)(A.a,{children:[Object(r.jsx)(B.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){i(e.currentTarget)},children:Object(r.jsx)(W.a,{})}),Object(r.jsxs)(I.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c,children:[Object(r.jsx)(M.a,{onClick:c,children:Object(r.jsx)(x.b,{to:g,children:"Questions"})}),Object(r.jsx)(M.a,{onClick:c,children:Object(r.jsx)(x.b,{to:"".concat(g,"/leaderboard"),children:"Leaderboard"})})]}),Object(r.jsx)(P.a,{variant:"h6",className:e.title,children:"Would You rather"}),Object(r.jsx)(J,{})]})})})},V=Object(O.b)((function(e){var t=e.authedUser;return{authedUser:t,users:e.users,login:null===t}}))((function(e){var t=e.dispatch,n=e.login;return Object(o.useEffect)((function(){t(p())}),[]),Object(r.jsx)(x.a,{children:Object(r.jsx)("div",{className:"page",children:n?Object(r.jsx)(R,{login:n}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(G,{}),Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{path:"/reactnd-would-you-rather",exact:!0,component:k}),Object(r.jsx)(f.a,{path:"/reactnd-would-you-rather/leaderboard",exact:!0,component:N}),Object(r.jsx)(f.a,{path:"/reactnd-would-you-rather/questions/:id",exact:!0,component:w}),Object(r.jsx)(f.a,{component:v})]})]})})})})),$=n(9),F=n.n($),H=n(25);var Y=Object(H.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.id;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),t.questions);case l:return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t.qid,Object(i.a)(Object(i.a)({},e[t.qid]),{},Object(a.a)({},t.answer,Object(i.a)(Object(i.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat(t.authedUser)})))));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(i.a)(Object(i.a)({},e),t.users);case h:return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t.authedUser,Object(i.a)(Object(i.a)({},e[t.authedUser]),{},{answers:Object(i.a)(Object(i.a)({},e[t.authedUser].answers),{},Object(a.a)({},t.qid,t.answer))})));default:return e}}}),K=n(68),X=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var r=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),r}}},Z=Object(H.a)(K.a,X),ee=Object(H.d)(Y,Z);F.a.render(Object(r.jsx)(O.a,{store:ee,children:Object(r.jsx)(V,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.11f9d732.chunk.js.map