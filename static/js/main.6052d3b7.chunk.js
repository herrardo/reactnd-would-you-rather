(this["webpackJsonpreactnd-would-you-rather"]=this["webpackJsonpreactnd-would-you-rather"]||[]).push([[0],{61:function(e,t,n){},76:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(2),a=(n(76),n(0)),s=(n(61),n(35)),o=n(17),i=n(5),c={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},u={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function d(e){return function(e){var t=e.authedUser,n=e.qid,r=e.answer;return new Promise((function(e,a){setTimeout((function(){c=Object(i.a)(Object(i.a)({},c),{},Object(o.a)({},t,Object(i.a)(Object(i.a)({},c[t]),{},{answers:Object(i.a)(Object(i.a)({},c[t].answers),{},Object(o.a)({},n,r))}))),u=Object(i.a)(Object(i.a)({},u),{},Object(o.a)({},n,Object(i.a)(Object(i.a)({},u[n]),{},Object(o.a)({},r,Object(i.a)(Object(i.a)({},u[n][r]),{},{votes:u[n][r].votes.concat([t])}))))),e()}),500)}))}(e)}var l="RECEIVE_QUESTIONS",j="ANSWER_QUESTION",b="RECEIVE_USERS",h="USER_ANSWER_QUESTION",m=function(){return function(e){return Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},c))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},u))}),1e3)}))]).then((function(e){var t=Object(s.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,r=t.questions;e(function(e){return{type:l,questions:e}}(r)),e(function(e){return{type:b,users:e}}(n))}))}},O=function(e){return function(t){return d(e).then((function(){return t(function(e){var t=e.qid,n=e.answer,r=e.authedUser;return{type:j,qid:t,answer:n,authedUser:r}}(e))})).then((function(){return t(function(e){var t=e.qid,n=e.answer,r=e.authedUser;return{type:h,qid:t,answer:n,authedUser:r}}(e))})).catch((function(e){console.warn("Error in saving question answer: ",e),console.warn("There was an error saving the answer for the question. Try again.")}))}},p=n(18),x=n(33),v=n(14),f=function(){return Object(r.jsxs)("div",{className:"text-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[Object(r.jsx)("h1",{children:"Page not found"}),Object(r.jsx)("h2",{children:"Where are you going mate?"})]})},w=n(138),y=n(96),g="/reactnd-would-you-rather",q=Object(p.b)((function(e,t){var n=e.questions,r=e.authedUser,a=e.users,s=t.match&&t.match.params&&t.match.params.id?t.match.params.id:null;return{authedUser:r,question:t.question,questions:n,users:a,id:s}}))((function(e){var t=e.authedUser,n=e.question,a=e.questions,s=e.users,o=e.dispatch,i=e.id;n=n||a[i];var c=!s||!t||Object.keys(s[t].answers).includes(n.id),u=n.optionOne.votes.length,d=n.optionTwo.votes.length,l=u+d,j=Object(v.f)(),b=function(e){o(O({authedUser:t,qid:n.id,answer:e})),h()},h=function(){j.push("".concat(g,"/questions/").concat(n.id))};return Object(r.jsxs)("div",{className:"question",children:[Object(r.jsx)("h3",{className:"question__title",children:"Would you rather?"}),Object(r.jsx)(w.a,{src:s[n.author].avatarURL,className:"avatar"}),Object(r.jsxs)("div",{className:"question__group",children:[Object(r.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionOne.text),variant:"contained",disabled:c,onClick:function(){return b("optionOne")},children:n.optionOne.text}),null!==i&&Object(r.jsxs)("span",{className:"question__results",children:[u," votes - ",Math.round(u/l*100),"%"]}),n.optionOne.votes.includes(t)&&Object(r.jsx)("span",{className:"question__my-answer",children:"My Answer"})]}),Object(r.jsxs)("div",{className:"question__group",children:[Object(r.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionTwo.text),variant:"contained",disabled:c,onClick:function(){return b("optionTwo")},children:n.optionTwo.text}),null!==i&&Object(r.jsxs)("span",{className:"question__results",children:[d," votes - ",Math.round(d/l*100),"%"]}),n.optionTwo.votes.includes(t)&&Object(r.jsx)("span",{className:"question__my-answer",children:"My Answer"})]}),null===i&&Object(r.jsx)(y.a,{className:"question__link",color:"secondary",variant:"outlined",size:"small",onClick:h,children:"View Detail"})]})})),U=n(129),N=n(139),T=Object(p.b)((function(e){return{questions:e.questions,authedUser:e.authedUser,users:e.users}}))((function(e){var t=e.questions,n=e.authedUser,o=e.users,i=Object(a.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],l=Object.keys(o[n].answers),j=Object.values(t).filter((function(e){return u?l.includes(e.id):!l.includes(e.id)})).sort((function(e,t){return e.timestamp-t.timestamp}));return Object(r.jsxs)("div",{className:"questions",children:[Object(r.jsxs)("h3",{className:"center",children:["List of ",u?Object(r.jsx)("span",{children:"answered"}):Object(r.jsx)("span",{children:"unanswered"})," questions"," "]}),Object(r.jsx)(U.a,{control:Object(r.jsx)(N.a,{checked:u,onChange:function(){d(!u)},name:"checkedB",color:"primary"}),label:"Answered Questions"}),Object(r.jsx)("ul",{className:"questions-list",children:j.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(q,{question:e})},e.id)}))})]})})),_=Object(p.b)((function(e){return{orderedUsers:function(e){var t=e.users;return Object.values(t).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{interactions:{answers:Object.keys(e.answers).length,questions:e.questions.length,total:Object.keys(e.answers).length+e.questions.length}})})).sort((function(e,t){return t.interactions-e.interactions}))}(e)}}))((function(e){var t=e.orderedUsers;return Object(r.jsxs)("div",{className:"leaderboard",children:[Object(r.jsx)("h3",{className:"center",children:"Leaderboard"}),Object(r.jsx)("ul",{className:"leaderboard-list",children:Object.values(t).map((function(e){return Object(r.jsxs)("li",{className:"leaderboard-list__item",children:[Object(r.jsx)("h3",{children:e.name}),Object(r.jsx)(w.a,{src:e.avatarURL,className:"avatar"}),Object(r.jsxs)("div",{className:"leaderboard-list__result",children:["Total: ",Object(r.jsx)("span",{className:"total",children:e.interactions.total})]}),Object(r.jsxs)("div",{className:"leaderboard-list__result",children:["Number of questions: ",e.interactions.questions]}),Object(r.jsxs)("div",{className:"leaderboard-list__result",children:["Number of answers: ",e.interactions.answers]})]},e.id)}))})]})})),k=n(131),E=n(136),z=n(132),S=n(98),C=n(133),R="SET_AUTHED_USER",L=function(e){return{type:R,id:e}},A=Object(k.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),B=Object(p.b)((function(e,t){return{authedUser:e.authedUser,users:e.users,login:t.login}}),(function(e){return{dispatch:e,setAuthedUser:L}}))((function(e){var t=e.dispatch,n=(e.authedUser,e.users),a=e.login,s=A();return Object(r.jsx)(E.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:a,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(r.jsx)(S.a,{in:!0,children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("h2",{id:"transition-modal-title",children:"Choose and user to login"}),Object(r.jsx)(C.a,{orientation:"vertical",color:"primary","aria-label":"vertical contained primary button group",variant:"contained",children:Object.values(n).map((function(e){return Object(r.jsx)(y.a,{onClick:function(){return n=e.id,void t(L(n));var n},children:e.name},e.id)}))})]})})})})),I=n(134),M=n(135),P=n(130),Q=n(137),W=n(140),J=n(97),D=n(68),G=n.n(D),V=Object(p.b)((function(e){return{users:e.users,authedUser:e.authedUser}}))((function(e){var t=e.authedUser,n=e.users,a=e.dispatch,s=n[t]||null;return Object(r.jsx)(r.Fragment,{children:s?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:s.name}),Object(r.jsx)(y.a,{color:"inherit",onClick:function(){a(L(null))},children:"Logout"})]}):Object(r.jsx)(y.a,{color:"inherit",children:"Login"})})})),$=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),F=function(){var e=$(),t=Object(a.useState)(null),n=Object(s.a)(t,2),o=n[0],i=n[1],c=function(){i(null)};return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(I.a,{position:"static",children:Object(r.jsxs)(M.a,{children:[Object(r.jsx)(P.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){i(e.currentTarget)},children:Object(r.jsx)(G.a,{})}),Object(r.jsxs)(Q.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:c,children:[Object(r.jsx)(W.a,{onClick:c,children:Object(r.jsx)(x.b,{to:g,children:"Questions"})}),Object(r.jsx)(W.a,{onClick:c,children:Object(r.jsx)(x.b,{to:"".concat(g,"/leaderboard"),children:"Leaderboard"})})]}),Object(r.jsx)(J.a,{variant:"h6",className:e.title,children:"Would You rather"}),Object(r.jsx)(V,{})]})})})},H=Object(p.b)((function(e){var t=e.authedUser;return{authedUser:t,users:e.users,login:null===t}}))((function(e){var t=e.dispatch,n=e.login;return Object(a.useEffect)((function(){t(m())}),[]),Object(r.jsx)(x.a,{children:Object(r.jsx)("div",{className:"page",children:n?Object(r.jsx)(B,{login:n}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(F,{}),Object(r.jsxs)(v.c,{children:[Object(r.jsx)(v.a,{path:"/reactnd-would-you-rather",exact:!0,component:T}),Object(r.jsx)(v.a,{path:"/reactnd-would-you-rather/leaderboard",exact:!0,component:_}),Object(r.jsx)(v.a,{path:"/reactnd-would-you-rather/questions/:id",exact:!0,component:q}),Object(r.jsx)(v.a,{component:f})]})]})})})})),Y=n(9),K=n.n(Y),X=n(25);var Z=Object(X.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.id;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),t.questions);case j:return Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},t.qid,Object(i.a)(Object(i.a)({},e[t.qid]),{},Object(o.a)({},t.answer,Object(i.a)(Object(i.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat(t.authedUser)})))));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(i.a)(Object(i.a)({},e),t.users);case h:return Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},t.authedUser,Object(i.a)(Object(i.a)({},e[t.authedUser]),{},{answers:Object(i.a)(Object(i.a)({},e[t.authedUser].answers),{},Object(o.a)({},t.qid,t.answer))})));default:return e}}}),ee=n(69),te=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var r=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),r}}},ne=Object(X.a)(ee.a,te),re=Object(X.d)(Z,ne);K.a.render(Object(r.jsx)(p.a,{store:re,children:Object(r.jsx)(H,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.6052d3b7.chunk.js.map