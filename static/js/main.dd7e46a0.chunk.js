(this["webpackJsonpreactnd-would-you-rather"]=this["webpackJsonpreactnd-would-you-rather"]||[]).push([[0],{60:function(e,t,n){},75:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var o=n(2),r=(n(75),n(0)),s=(n(60),n(34)),a=n(17),i=n(5),c={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},u={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};var d="RECEIVE_QUESTIONS",l="ANSWER_QUESTION",j="RECEIVE_USERS",h="USER_ANSWER_QUESTION",b="SET_AUTHED_USER",p=function(e){return{type:b,id:e}};function m(){return function(e){return Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},c))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},u))}),1e3)}))]).then((function(e){var t=Object(s.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.users,o=t.questions;e(function(e){return{type:d,questions:e}}(o)),e(function(e){return{type:j,users:e}}(n))}))}}var O=n(19),x=n(42),f=n(14),v=function(){return Object(o.jsxs)("div",{className:"text-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[Object(o.jsx)("h1",{children:"Page not found"}),Object(o.jsx)("h2",{children:"Where are you going mate?"})]})},y=n(95),g=Object(O.b)((function(e,t){var n=e.questions,o=e.authedUser,r=e.users;return{authedUser:o,question:t.question,questions:n,users:r}}))((function(e){var t=e.authedUser,n=e.question,r=(e.questions,e.users),s=e.dispatch,a=!r||!t||Object.keys(r[t].answers).includes(n.id),i=function(e){console.log(e),s(function(e){var t=e.qid,n=e.answer,o=e.authedUser;return{type:l,qid:t,answer:n,authedUser:o}}({authedUser:t,qid:n.id,answer:e})),s(function(e){var t=e.qid,n=e.answer,o=e.authedUser;return{type:h,qid:t,answer:n,authedUser:o}}({authedUser:t,qid:n.id,answer:e}))};return Object(o.jsxs)("li",{className:"question",children:[Object(o.jsx)("h3",{className:"question__title",children:"Would you rather?"}),Object(o.jsxs)("div",{children:[Object(o.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionOne.text),variant:"contained",disabled:a,onClick:function(){return i("optionOne")},children:n.optionOne.text}),n.optionOne.votes.includes(t)&&Object(o.jsx)("span",{children:"My Answer"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)(y.a,{color:"primary","aria-label":"button ".concat(n.optionTwo.text),variant:"contained",disabled:a,onClick:function(){return i("optionTwo")},children:n.optionTwo.text}),n.optionTwo.votes.includes(t)&&Object(o.jsx)("span",{children:"My Answer"})]})]},n.id)})),w=n(128),q=n(137),U=Object(O.b)((function(e){return{questions:e.questions,authedUser:e.authedUser,users:e.users}}))((function(e){var t=e.questions,n=e.authedUser,a=e.users,i=Object(r.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],l=Object.keys(a[n].answers),j=Object.values(t).filter((function(e){return u?l.includes(e.id):!l.includes(e.id)}));return Object(o.jsxs)("div",{className:"questions",children:[Object(o.jsxs)("h3",{className:"center",children:["List of ",u?Object(o.jsx)("span",{children:"answered"}):Object(o.jsx)("span",{children:"unanswered"})," questions"," "]}),Object(o.jsx)(w.a,{control:Object(o.jsx)(q.a,{checked:u,onChange:function(){d(!u)},name:"checkedB",color:"primary"}),label:"Answered Questions"}),Object(o.jsx)("ul",{className:"dashboard-list",children:j.map((function(e){return Object(o.jsx)(g,{question:e},e.id)}))})]})})),T=Object(O.b)((function(e){return{orderedUsers:function(e){var t=e.users;return Object.values(t).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{interactions:Object.keys(e.answers).length+e.questions.length})})).sort((function(e,t){return t.interactions-e.interactions}))}(e)}}))((function(e){var t=e.orderedUsers;return Object(o.jsxs)("div",{className:"users",children:[Object(o.jsx)("h3",{className:"center",children:"List of questions"}),Object(o.jsx)("ul",{className:"dashboard-list",children:Object.values(t).map((function(e){return Object(o.jsxs)("li",{children:[Object(o.jsx)("h1",{children:e.name}),Object(o.jsx)("h3",{children:e.interactions})]},e.id)}))})]})})),k=n(130),E=n(135),N=n(131),z=n(97),S=n(132),C=Object(k.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),R=Object(O.b)((function(e,t){return{authedUser:e.authedUser,users:e.users,login:t.login}}),(function(e){return{dispatch:e,setAuthedUser:p}}))((function(e){var t=e.dispatch,n=(e.authedUser,e.users),r=e.login,s=C();return Object(o.jsx)(E.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:r,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(o.jsx)(z.a,{in:open,children:Object(o.jsxs)("div",{className:"login",children:[Object(o.jsx)("h2",{id:"transition-modal-title",children:"Choose and user to login"}),Object(o.jsx)(S.a,{orientation:"vertical",color:"primary","aria-label":"vertical contained primary button group",variant:"contained",children:Object.values(n).map((function(e){return Object(o.jsx)(y.a,{onClick:function(){return n=e.id,void t(p(n));var n},children:e.name},e.id)}))})]})})})})),_="/reactnd-would-you-rather",A=n(133),B=n(134),I=n(129),L=n(136),P=n(138),Q=n(96),W=n(67),J=n.n(W),M=Object(k.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),G=function(){var e=M(),t=Object(r.useState)(null),n=Object(s.a)(t,2),a=n[0],i=n[1],c=function(){i(null)};return Object(o.jsx)("div",{className:e.root,children:Object(o.jsx)(A.a,{position:"static",children:Object(o.jsxs)(B.a,{children:[Object(o.jsx)(I.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(o.jsx)(J.a,{onClick:function(e){i(e.currentTarget)}})}),Object(o.jsxs)(L.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c,children:[Object(o.jsx)(P.a,{onClick:c,children:Object(o.jsx)(x.b,{to:_,children:"Questions"})}),Object(o.jsx)(P.a,{onClick:c,children:Object(o.jsx)(x.b,{to:"".concat(_,"/leaderboard"),children:"Leaderboard"})})]}),Object(o.jsx)(Q.a,{variant:"h6",className:e.title,children:"Would You rather"}),Object(o.jsx)(y.a,{color:"inherit",children:"Login"})]})})})},D=Object(O.b)((function(e){var t=e.authedUser;return{authedUser:t,users:e.users,login:null===t}}))((function(e){var t=e.dispatch,n=e.login;return Object(r.useEffect)((function(){t(m())}),[]),Object(o.jsx)(x.a,{children:Object(o.jsx)("div",{className:"page",children:n?Object(o.jsx)(R,{login:n}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(G,{}),Object(o.jsxs)(f.c,{children:[Object(o.jsx)(f.a,{path:"/reactnd-would-you-rather",exact:!0,component:U}),Object(o.jsx)(f.a,{path:"/reactnd-would-you-rather/leaderboard",exact:!0,component:T}),Object(o.jsx)(f.a,{component:v})]})]})})})})),V=n(9),$=n.n(V),H=n(25);var Y=Object(H.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.id;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),t.questions);case l:return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t.qid,Object(i.a)(Object(i.a)({},e[t.qid]),{},Object(a.a)({},t.answer,Object(i.a)(Object(i.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat(t.authedUser)})))));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(i.a)(Object(i.a)({},e),t.users);case h:return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},t.authedUser,Object(i.a)(Object(i.a)({},e[t.authedUser]),{},{answers:Object(i.a)(Object(i.a)({},e[t.authedUser].answers),{},Object(a.a)({},t.qid,t.answer))})));default:return e}}}),F=n(68),K=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var o=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),o}}},X=Object(H.a)(F.a,K),Z=Object(H.d)(Y,X);$.a.render(Object(o.jsx)(O.a,{store:Z,children:Object(o.jsx)(D,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.dd7e46a0.chunk.js.map